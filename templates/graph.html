{% extends 'base.html' %}

{% block css %}
<link rel="stylesheet" type="text/css"
  href="{{ url_for('static', filename='css/graph.css')}}">
{% endblock %}


{% block main %}
<div class="container">
  <div class="row">
    <div class="col-md-6">
      <img src="{{ url_for('plot_graph') }}" class="img-fluid video" alt="Real time graph">
      <h3 class="left-title">Real time plotting</h3>
    </div>
    <div class="col-md-6">
      <h3>The new value is</h3>
      <h1 id="number"></h1>
    </div>
  </div>
</div>

<script>
function update_temp() {
  $.ajax({
    url: '/live_temp',
    type: 'GET',
    datatype: 'json',
    success: function(response) {
      var number = response.temp;
      $('#number').text(number);
    },
    fail: function(error) {
      console.log('Error ', error);
    }
  });
};
$(document).ready(function() {
  update_temp();
  setInterval(update_temp, 1000);  // Update every 1 seconds
});
</script>



{% endblock %}